Пусть даны два файловых каталога S и D. Каждый из этих каталогов может содержать вложенные каталоги, которые, в свою очередь, могут содержать вложенные каталоги, и т.д.

Подразумевается, что каталог S является обновлённой версией каталога D, т.е., по сравнению с каталогом D часть файлов в S удалена, часть – изменена, и, кроме того, в S могли появиться новые файлы.

Синхронизацией каталога D
с каталогом S мы будем называть процесс внесения изменений в каталог D, в результате которого содержимое каталога D становится равным содержимому каталога S
.

Самый простой способ синхронизации заключается в полном удалении содержимого каталога D
и копировании всего содержимого каталога S в D. Однако, более целесообразно удалить из D только те файлы, которые в S были удалены или изменены, а затем скопировать из S в D только новые и изменённые файлы. Такой режим синхронизации может продлить ресурс жёсткого диска, на котором расположен каталог D
, т.к., например, современные твердотельные диски расчитаны на ограниченное количество перезаписей.

Составьте программу, выполняющую сравнение двух каталогов S
и D и вычисляющую план синхронизации каталога D с каталогом S. План синхронизации состоит из списка путей к файлам, которые нужно удалить из D, и списка путей к файлам, которые нужно скопировать из S в D. Обратите внимание, что если содержимое некоторого файла в каталоге D отличается от его содержимого в каталоге S, то путь к этому файлу включается в оба списка, т.е. подразумевается, что сначала из D удаляется старая версия файла, а затем новая версия копируется в D из S
.

Точкой входа в программу должен быть метод main класса Sync. Пути к каталогам S
и D передаются через первый и второй аргументы командной строки, соответственно. При этом гарантируется, что каталоги S и D
существуют и не вложены друг в друга.

Если каталоги S
и D совпадают, программа должна выводить в стандартный поток вывода сообщение "IDENTICAL". Если они не совпадают, то сначала выводится список путей к удаляемым файлам относительно корня каталога D, а затем – список путей к копируемым файлам относительно корня каталога S
. Путь к каждому файлу выводится в отдельной строке и предваряется словом "DELETE", если файл должен быть удалён, или "COPY", если файл должен быть скопирован. Пути в рамках каждого списка должны быть отсортированы лексикографически.

Например, пусть содержимое каталога D
выглядит следующим образом:

D

├─── alpha.txt

├─── beta.jpg

├─── Z

│    ├─── alpha.txt

│    └─── beta.png

└─── Gamma.java


Пусть каталог S

имеет следующий вид:

S

├─── alpha.txt

├─── delta.cpp

├─── beta.jpg (обновлён)

├─── Z

│    └─── beta.png

├─── y

│    ├─── omega.html

│    └─── alpha.txt

└─── Gamma.java


Тогда программа должна выводить следующий план синхронизации:

DELETE Z/alpha.txt

DELETE beta.jpg

COPY beta.jpg

COPY delta.cpp

COPY y/alpha.txt

COPY y/omega.html
